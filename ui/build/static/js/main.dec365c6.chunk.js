(this.webpackJsonpui=this.webpackJsonpui||[]).push([[0],{40:function(e,t,a){e.exports=a(77)},45:function(e,t,a){},69:function(e,t,a){},70:function(e,t,a){},71:function(e,t,a){},72:function(e,t,a){},73:function(e,t,a){},74:function(e,t,a){},75:function(e,t,a){},76:function(e,t,a){},77:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(18),i=a.n(c),o=a(6),l=a(3);a(45);var u=a(2),s=a.n(u),m=a(9),p=a(4),d=a(37),v=a(38),f=a(14),h=a.n(f),E=function(){function e(){Object(d.a)(this,e),this.url="http://localhost:2000"}return Object(v.a)(e,[{key:"getAllUsers",value:function(){var e=Object(m.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.get(this.url+"/users");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"registerNewUser",value:function(){var e=Object(m.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.post(this.url+"/register",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"login",value:function(){var e=Object(m.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.post(this.url+"/auth",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addQuiz",value:function(){var e=Object(m.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.post(this.url+"/createQuiz",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getQuizzes",value:function(){var e=Object(m.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.get(this.url+"/quizzes");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getQuiz",value:function(){var e=Object(m.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.get(this.url+"/quizzes/"+t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();var b=a(13),g=a(5),w=function(e){return{type:"ADD_QUES",payload:e}};function y(e){var t=e.routState,a=Object(n.useState)({quiz_title:"",quiz_expire:"",quiz_size:"",quiz_keywords:"",quiz_get_res:!1,quiz_public:!1}),c=Object(p.a)(a,2),i=c[0],o=c[1],l=Object(b.c)((function(e){return e.config}));Object(n.useEffect)((function(){l&&o(l)}),[]);var u=Object(b.b)(),s=function(e){e.persist();var t=Object(g.a)({},i),a=e.target.getAttribute("data-type");a&&"number"===a?+e.target.value===+e.target.value&&(t[e.target.name]="checkbox"===e.target.type?e.target.checked:e.target.value):t[e.target.name]="checkbox"===e.target.type?e.target.checked:e.target.value,o(t)};return r.a.createElement("div",{className:"quiz-details"},r.a.createElement("h2",null,"Quiz Settings"),r.a.createElement("label",{htmlFor:"quiz_title"},"Quiz Title"),r.a.createElement("input",{onChange:s,value:i.quiz_title,type:"text",name:"quiz_title",id:"quiz_title"}),r.a.createElement("label",{htmlFor:"quiz_size"},"Expire Time (h)"),r.a.createElement("input",{onChange:s,value:i.quiz_expire,"data-type":"number",type:"text",name:"quiz_expire",id:"quiz_expire"}),r.a.createElement("label",{htmlFor:"quiz_size"},"Max size of Questions in a Quiz"),r.a.createElement("input",{onChange:s,value:i.quiz_size,"data-type":"number",name:"quiz_size",type:"text",id:"quiz_size"}),r.a.createElement("label",{htmlFor:"quiz_size"},"Quiz's Keywords"),r.a.createElement("input",{onChange:s,value:i.quiz_keywords,name:"quiz_keywords",type:"text",id:"quiz_keywords"}),r.a.createElement("label",{htmlFor:"quiz_public"},"Don't Show this Quiz in Search?"),r.a.createElement("input",{onChange:s,checked:i.quiz_public,name:"quiz_public",type:"checkbox",id:"quiz_public"}),r.a.createElement("label",{htmlFor:"quiz_get_res"},"Do You Wanna Get Results on Your Email?"),r.a.createElement("input",{onChange:s,checked:i.quiz_get_res,name:"quiz_get_res",type:"checkbox",id:"quiz_get_res"}),r.a.createElement("button",{onClick:function(){t("Questions"),u({type:"ADD_CONFIG",payload:i})},type:"button"},"Next Step"))}var _=a(26),z={question:"",type:"checkbox",details:"",answers:[]};function O(e){var t,a,c=e.routState,i=Object(n.useState)(z),o=Object(p.a)(i,2),l=o[0],u=o[1],s=Object(n.useState)([]),m=Object(p.a)(s,2),d=m[0],v=m[1],f=Object(n.useState)(0),h=Object(p.a)(f,2),E=h[0],y=h[1],O=Object(b.c)((function(e){return e.questions}));Object(n.useEffect)((function(){(null===O||void 0===O?void 0:O.length)&&(v(O),u(O[E]))}),[]),Object(n.useEffect)((function(){d.length&&(d[E]?u(d[E]):u(z))}),[E]);var q=Object(b.b)(),j=function(e){e.persist();var t=Object(g.a)({},l);t[e.target.name]=e.target.value,u(t)},k=function(e,t){var a=Object(g.a)({},l);a.answers[e][t.target.name]="text"!==t.target.type?t.target.checked:t.target.value,u(a)};return r.a.createElement("div",{className:"question-details"},r.a.createElement("h2",null,"Questions"),r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),q(w(d)),u(z),v([].concat(Object(_.a)(d),[l])),y((function(e){return e+1}))}},r.a.createElement("label",{htmlFor:"new-question-title"},"Enter your question"),r.a.createElement("input",{onChange:j,name:"question",id:"new-question-title",type:"text",value:l.question}),r.a.createElement("label",{htmlFor:"new-question-detail"},"Enter more details (optional)"),r.a.createElement("textarea",{onChange:j,name:"details",id:"new-question-detail",type:"text",value:l.details}),r.a.createElement("label",null,"Choose question type"),r.a.createElement("select",{onChange:j,name:"type"},r.a.createElement("option",{defaultValue:!0,value:"checkbox"},"Checkbox"),r.a.createElement("option",{value:"radio"},"Radio"),r.a.createElement("option",{value:"input"},"Input")),r.a.createElement("div",{className:"signin-quiz-questions"},"input"!==l.type&&l.answers.map((function(e,t){return r.a.createElement("div",{key:t},r.a.createElement("input",{name:"value",onChange:function(e){return k(t,e)},placeholder:e.placeholder,value:e.value}),r.a.createElement("div",{className:"answer-controll"},r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"correct-item-".concat(t)},"Correct?"),r.a.createElement("input",{checked:e.isCorrect,onChange:function(e){return k(t,e)},name:"isCorrect",id:"correct-item-".concat(t),type:l.type})),r.a.createElement("svg",{onClick:function(){return function(e){var t=Object(g.a)({},l);t.answers.splice(e,1),u(t)}(t)},xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"trash-alt",className:"svg-inline--fa fa-trash-alt fa-w-14",role:"img",viewBox:"0 0 448 512"},r.a.createElement("path",{fill:"currentColor",d:"M32 464a48 48 0 0 0 48 48h288a48 48 0 0 0 48-48V128H32zm272-256a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zm-96 0a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zm-96 0a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zM432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16z"}))))}))),"input"===l.type&&r.a.createElement("div",null,r.a.createElement("input",{onChange:function(e){var t=Object(g.a)({},l);t.answers.length=1,t.answers[0].value=e.target.value,t.answers[0].isCorrect=!0,u(t)},placeholder:null===(t=l.answers[0])||void 0===t?void 0:t.placeholder,value:null===(a=l.answers[0])||void 0===a?void 0:a.value})),r.a.createElement("div",{className:"questions-controlls"},r.a.createElement("div",null,r.a.createElement("button",{onClick:function(){u((function(e){return Object(g.a)(Object(g.a)({},e),{},{answers:[].concat(Object(_.a)(e.answers),[{placeholder:"Enter answer",value:"",isCorrect:!1}])})}))},type:"button"},"Add Answer"),r.a.createElement("button",{type:"submit"},"Add the Question")),r.a.createElement("div",null,0!==E&&r.a.createElement("button",{onClick:function(){return E>0&&y(E-1)},type:"button"},"Prev Question"),E!==d.length&&r.a.createElement("button",{onClick:function(){return d.length&&E<d.length&&y(E+1)},type:"button"},"Next Question")))),r.a.createElement("button",{onClick:function(){c("Settings"),q(w(d))},type:"button"},"Prev Step"))}var q=[{path:"/test",component:function(e){return console.log(e),r.a.createElement("div",null,"User Home page")},isPublic:!1,name:"Home"}];a(69);function j(e){var t=e.question,a=e.id;return r.a.createElement("div",{className:"quiz-card"},r.a.createElement("h2",null,t.question),r.a.createElement("p",null,t.details),r.a.createElement("form",null,t.answers.map((function(e,n){var c="radio"===t.type?"radio":"".concat(t.type,"-").concat(n);return r.a.createElement("div",{key:n},r.a.createElement("label",{htmlFor:"quiz-".concat(a,"-").concat(n)},e.value),r.a.createElement("input",{name:c,id:"quiz-".concat(a,"-").concat(n),type:t.type}))}))))}a(70);a(71);function k(){return r.a.createElement("div",{className:"spinner-wrapper"},r.a.createElement("div",{className:"load-spinner"},r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null)))}a(72);var x=new E;var N=[{path:"/",exact:!0,component:function(){var e=Object(l.f)();return r.a.createElement("div",{className:"home-page"},r.a.createElement("h1",{className:"home-page_title"},"Welcome to Quizzer."),r.a.createElement("h2",{className:"home-page_desc"},"Do you wanna ",r.a.createElement("button",{type:"button",onClick:function(){localStorage.getItem("user")?e.push("/new-quiz"):e.push("/signin")}},"create")," a new quiz?"),r.a.createElement("p",{className:"home-page_text"},"You can pass all opened quiz or create your own."),r.a.createElement("p",{className:"home-page_text"},"If you wanna save and share you quiz, you need to login or create new accout."))},isPublic:!0,name:"Home"},{path:"/quizzes",exact:!0,component:function(){var e=Object(n.useState)([]),t=Object(p.a)(e,2),a=t[0],c=t[1],i=new E;return console.log(a),Object(n.useEffect)((function(){Object(m.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=c,e.next=3,i.getQuizzes().then((function(e){return e.data.data}));case 3:e.t1=e.sent,(0,e.t0)(e.t1);case 5:case"end":return e.stop()}}),e)})))()}),[]),r.a.createElement("div",null,r.a.createElement("ul",null,a.map((function(e,t){return r.a.createElement("li",{key:t},r.a.createElement(o.b,{to:"/quizzes/"+e._id},e.config.quiz_title))}))))},isPublic:!0,name:"Quizzes"},{path:"/new-quiz",component:function(){var e=Object(n.useState)("Settings"),t=Object(p.a)(e,2),a=t[0],c=t[1],i=new E;Object(b.b)(),Object(n.useEffect)((function(){}));var o=Object(b.c)((function(e){return e}));return r.a.createElement("div",{className:"signin quiz"},"Settings"===a&&r.a.createElement(y,{routState:c}),"Questions"===a&&r.a.createElement(O,{routState:c}),r.a.createElement("button",{onClick:function(){i.addQuiz(o)},type:"button"},"Create Quiz"))},isPublic:!1,name:"New Quiz"},{path:"/user-profile",component:function(e){return e.match,r.a.createElement(o.a,null,r.a.createElement(l.c,null,q.map((function(e,t){return r.a.createElement(l.a,{key:t,exact:"/"===e.path,path:e.path,component:e.component})}))))},isPublic:!1,name:"User Profile"},{path:"/signin",component:function(){var e=Object(n.useState)({email:"",password:""}),t=Object(p.a)(e,2),a=t[0],c=t[1],i=Object(n.useState)(""),u=Object(p.a)(i,2),d=u[0],v=u[1],f=function(){var e=Object(n.useState)(!1),t=Object(p.a)(e,2),a=t[0],r=t[1];return[a?k:"",function(e){r(e)}]}(),h=Object(p.a)(f,2),b=h[0],w=h[1],y=Object(l.f)();function _(){return(_=Object(m.a)(s.a.mark((function e(t){var n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),w(!0),n=new E,e.prev=3,e.next=6,n.login(a);case 6:r=e.sent,localStorage.setItem("user",JSON.stringify(r.data.user)),y.push("/"),window.location.reload(),w(!1),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(3),v("Email or password is not correct"),w(!1);case 17:case"end":return e.stop()}}),e,null,[[3,13]])})))).apply(this,arguments)}function z(e){e.persist();var t=Object(g.a)({},a);t[e.target.name]=e.target.value,c(t)}return r.a.createElement(r.a.Fragment,null,b&&r.a.createElement(b,null),r.a.createElement("div",{className:"signin"},r.a.createElement("h2",{className:"signin_title"},"Sign in"),r.a.createElement("form",{className:"signin_form",onSubmit:function(e){return _.apply(this,arguments)}},d&&r.a.createElement("p",{className:"signin_form_error"},d),r.a.createElement("label",{htmlFor:"email"},"Email"),r.a.createElement("input",{onChange:z,value:a.email,name:"email",type:"text",id:"email"}),r.a.createElement("label",{htmlFor:"password"},"Password"),r.a.createElement("input",{onChange:z,value:a.password,name:"password",type:"password",id:"password"}),r.a.createElement("button",{type:"submit"},"Submit")),r.a.createElement("p",{className:"signin_sub-text"},"Don't have an account? ",r.a.createElement(o.b,{to:"/signup"},"Signup"))))},isPublic:!0,name:"Signin",notForRegistred:!0},{path:"/signup",component:function(){var e=Object(n.useState)({email:"",password:"",password_r:"",f_name:"",l_name:"",company:"",position:""}),t=Object(p.a)(e,2),a=t[0],c=t[1];function i(e){e.persist();var t=Object(g.a)({},a);t[e.target.name]=e.target.value,c(t)}return r.a.createElement("div",{className:"signin"},r.a.createElement("h2",null,"Create a new account"),r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),x.registerNewUser(a)}},r.a.createElement("label",{htmlFor:"email"},"Email"),r.a.createElement("input",{onChange:i,value:a.email,name:"email",type:"text",id:"email"}),r.a.createElement("label",{htmlFor:"password"},"Password"),r.a.createElement("input",{onChange:i,value:a.password,name:"password",type:"password",id:"password"}),r.a.createElement("label",{htmlFor:"password_r"},"Repeat Password"),r.a.createElement("input",{onChange:i,value:a.password_r,type:"password",name:"password_r",id:"password_r"}),r.a.createElement("label",{htmlFor:"f_name"},"First Name"),r.a.createElement("input",{onChange:i,value:a.f_name,name:"f_name",type:"text",id:"f_name"}),r.a.createElement("label",{htmlFor:"l_name"},"Last Name"),r.a.createElement("input",{onChange:i,value:a.l_name,name:"l_name",type:"text",id:"l_name"}),r.a.createElement("label",{htmlFor:"company"},"Company Name"),r.a.createElement("input",{onChange:i,value:a.company,name:"company",type:"text",id:"company"}),r.a.createElement("label",{htmlFor:"position"},"Your Position"),r.a.createElement("input",{onChange:i,value:a.position,name:"position",type:"text",id:"position"}),r.a.createElement("button",{type:"submit"},"Create")),r.a.createElement("p",null,"Already have an account? ",r.a.createElement(o.b,{to:"/signin"},"Signin")))},isPublic:!0,name:"Signup",notForRegistred:!0},{path:"/quizzes/:id",component:function(e){var t,a,c=e.match,i=Object(n.useState)({}),o=Object(p.a)(i,2),l=o[0],u=o[1],d=Object(n.useState)(0),v=Object(p.a)(d,2),f=v[0],h=v[1],b=new E;return Object(n.useEffect)((function(){Object(m.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.getQuiz(c.params.id).then((function(e){return e.data.data}));case 2:t=e.sent,u(t);case 4:case"end":return e.stop()}}),e)})))()}),[]),r.a.createElement("div",{className:"quiz-wrapper"},l.questions&&r.a.createElement(j,{id:f,question:l.questions[f]}),r.a.createElement("div",{className:"indicators"},null===(t=l.questions)||void 0===t?void 0:t.map((function(e,t){return r.a.createElement("div",{key:t,className:"indicator ".concat(t<f?"passed":""," ").concat(t===f?"active":"")},t)})),r.a.createElement("button",{type:"button",onClick:function(){var e;return f<(null===(e=l.questions)||void 0===e?void 0:e.length)-1?h(f+1):f}},f<(null===(a=l.questions)||void 0===a?void 0:a.length)-1?"Next":"Finish")))},isPublic:!0,name:"Quiz",notInMenu:!0,notForRegistred:!1}];a(73);function S(){return r.a.createElement("header",{className:"header"},r.a.createElement("nav",{className:"header__nav"},r.a.createElement("div",{className:"header__nav_home-link"},r.a.createElement(o.b,{to:"/"},"QUIZZER")),r.a.createElement("ul",{className:"header__nav_navigation-list"},N.map((function(e,t){return(e.isPublic||localStorage.getItem("user"))&&(!localStorage.getItem("user")||!e.notForRegistred)&&"/"!==e.path&&!e.notInMenu&&r.a.createElement("li",{key:t},r.a.createElement(o.b,{to:e.path},e.name))})),localStorage.getItem("user")&&r.a.createElement("li",null,r.a.createElement("a",{href:"",onClick:function(e){e.preventDefault(),localStorage.removeItem("user"),window.location.reload()}},"Sign out")))))}a(74);function C(){var e=JSON.parse(localStorage.getItem("user"));return r.a.createElement("div",{className:"header-top"},r.a.createElement("div",{className:"header-top__notification"}),r.a.createElement("div",{className:"header-top__user-info"},r.a.createElement("p",{className:"header-top__user-info_welcome"},"Welcome, ",e?e.f_name+" "+e.l_name:"Guest"," "),r.a.createElement(o.b,{to:"/user-profile"},r.a.createElement("div",{className:"header-top__user-info_user-img"}))))}var F=a(21),Q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_CONFIG":return Object(g.a)(Object(g.a)({},e),{},{config:t.payload});case"ADD_QUES":return Object(g.a)(Object(g.a)({},e),{},{questions:t.payload});case"ADD_FULL":return t.payload;default:return e}};a(75);function P(){var e=Object(F.b)(Q);return r.a.createElement(o.a,null,r.a.createElement(C,null),r.a.createElement("div",{className:"layout-wrapper"},r.a.createElement(S,null),r.a.createElement("div",{className:"route-wrapper"},r.a.createElement("div",{className:"route-wrapper_content"},r.a.createElement(b.a,{store:e},r.a.createElement(l.c,null,N.map((function(e,t){return(e.isPublic||localStorage.getItem("user"))&&(!localStorage.getItem("user")||!e.notForRegistred)&&r.a.createElement(l.a,{key:t,exact:!!e.exact,path:e.path,component:e.component})}))))))))}a(76);var A=function(){return r.a.createElement(P,null)},D=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function I(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}i.a.unstable_createRoot(document.getElementById("root")).render(r.a.createElement(A,null)),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("","/service-worker.js");D?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):I(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):I(t,e)}))}}()}},[[40,1,2]]]);
//# sourceMappingURL=main.dec365c6.chunk.js.map